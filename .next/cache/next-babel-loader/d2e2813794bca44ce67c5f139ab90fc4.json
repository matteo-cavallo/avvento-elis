{"ast":null,"code":"import _defineProperty from \"/Users/matteocavallo/Desktop/avvento-elis/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect, useState } from \"react\";\nimport { firestore } from \"../firebase/firebase.config\";\n\nconst useFirestore = collection => {\n  _s();\n\n  const {\n    0: docs,\n    1: setDocs\n  } = useState([]);\n  useEffect(() => {\n    const unsub = firestore.collection(\"video\").orderBy(\"giorno\").onSnapshot(snap => {\n      let documents = [];\n      snap.forEach(doc => {\n        documents.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n          id: doc.id\n        }));\n      });\n      setDocs(documents);\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n};\n\n_s(useFirestore, \"+T0lE56vJ9KU8atjOm2u+g1P1HQ=\");\n\nexport default useFirestore;","map":{"version":3,"sources":["/Users/matteocavallo/Desktop/avvento-elis/hooks/useFirestore.js"],"names":["useEffect","useState","firestore","useFirestore","collection","docs","setDocs","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,6BAA1B;;AAEA,MAAMC,YAAY,GAAIC,UAAD,IAAgB;AAAA;;AACnC,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBL,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMO,KAAK,GAAGL,SAAS,CACpBE,UADW,CACA,OADA,EAEXI,OAFW,CAEH,QAFG,EAGXC,UAHW,CAGCC,IAAD,IAAU;AACpB,UAAIC,SAAS,GAAG,EAAhB;AACAD,MAAAA,IAAI,CAACE,OAAL,CAAcC,GAAD,IAAS;AACpBF,QAAAA,SAAS,CAACG,IAAV,iCAAoBD,GAAG,CAACE,IAAJ,EAApB;AAAgCC,UAAAA,EAAE,EAAEH,GAAG,CAACG;AAAxC;AACD,OAFD;AAGAV,MAAAA,OAAO,CAACK,SAAD,CAAP;AACD,KATW,CAAd;AAUA,WAAO,MAAMJ,KAAK,EAAlB;AACD,GAZQ,EAYN,CAACH,UAAD,CAZM,CAAT;AAcA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CAlBD;;GAAMF,Y;;AAoBN,eAAeA,YAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { firestore } from \"../firebase/firebase.config\";\n\nconst useFirestore = (collection) => {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const unsub = firestore\n      .collection(\"video\")\n      .orderBy(\"giorno\")\n      .onSnapshot((snap) => {\n        let documents = [];\n        snap.forEach((doc) => {\n          documents.push({ ...doc.data(), id: doc.id });\n        });\n        setDocs(documents);\n      });\n    return () => unsub();\n  }, [collection]);\n\n  return { docs };\n};\n\nexport default useFirestore;\n"]},"metadata":{},"sourceType":"module"}